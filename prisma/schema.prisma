generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Items {
  ItemIndex Int    @id @default(autoincrement()) @map("ItemIndex")
  ItemName  String @unique @map("ItemName")
  ItemHP    Int?   @default(0) @map("ItemHP")
  ItemATK   Int?   @default(0) @map("ItemATK")
  price     Int    @default(100) @map("price")
    
  Charator_Inventory  Charator_Inventory[]
  Charator_Equip      Charator_Equip[]

  @@map("Items")
}

model Accounts {
  AccountIndex  Int     @id @default(autoincrement()) @map("AccountIndex")
  AccountID     String  @unique @map("AccountID")
  password      String  @map("password")  
  passwordCheck String  @map("passwordCheck")  

  createdAt DateTime @default(now()) @map("createdAt")
  updatedAt DateTime @updatedAt @map("updatedAt") 

  Charators  Charators[]

  @@map("Accounts")
}

model Charators {
  CharatorIndex  Int     @id @default(autoincrement()) @map("CharatorIndex")
  Charator_Name  String  @unique @map("Charator_Name")
  Charator_HP    Int     @default(0) @map("Charator_HP")
  Charator_ATK   Int     @map("Charator_ATK") @default(0)
  AccountIndex   Int     @map("AccountIndex")
    
  createdAt DateTime @default(now()) @map("createdAt")
  updatedAt DateTime @updatedAt @map("updatedAt")

  Account Accounts @relation(fields: [AccountIndex],references: [AccountIndex],onDelete: Cascade) 

  Charator_Inventory  Charator_Inventory[]
  Charator_Equip      Charator_Equip[]

  @@map("Charators")
}

model Charator_Inventory {
  InventoryIndex Int     @id @map("InventoryIndex")
  CharatorIndex  Int     @map("CharatorIndex")
  ItemIndex      Int     @map("ItemIndex")
  
  Charator     Charators @relation(fields: [CharatorIndex],references: [CharatorIndex],onDelete: Cascade)
  InvenItemID  Items @relation(fields: [ItemIndex],references: [ItemIndex],onDelete: Cascade)
  
  @@map("Charator_Inventory")
}

model Charator_Equip {
  EquipIndex     Int @id @map("EquipIndex")
  CharatorIndex  Int     @map("CharatorIndex")
  ItemIndex      Int     @map("ItemIndex")

  Charator     Charators @relation(fields: [CharatorIndex],references: [CharatorIndex],onDelete: Cascade)
  EquipItemID  Items @relation(fields: [ItemIndex],references: [ItemIndex],onDelete: Cascade)

  @@map("Charator_Equip")
}